package com.BookLover.demo.dto.mapper;

import com.BookLover.demo.dto.response.UserBookResponse;
import com.BookLover.demo.model.entity.UserBook;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Component;

@Component
@RequiredArgsConstructor
public class UserBookMapper {

    private final UserMapper userMapper;
    private final BookMapper bookMapper;

    public UserBookResponse toResponse(UserBook userBook) {
        return UserBookResponse.builder()
                .id(userBook.getId())
                .user(userMapper.toResponse(userBook.getUser()))
                .book(bookMapper.toResponse(userBook.getBook()))
                .status(userBook.getStatus())
                .startedAt(userBook.getStartedAt())
                .finishedAt(userBook.getFinishedAt())
                .userRating(userBook.getUserRating())
                .userReview(userBook.getUserReview())
                .addedAt(userBook.getAddedAt())
                .build();
    }
}
